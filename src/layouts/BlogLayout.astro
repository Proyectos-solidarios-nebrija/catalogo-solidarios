---
import { Image } from 'astro:assets'
import BaseLayout from './BaseLayout.astro'
import Link from '../components/icons/Link.astro'
const { title, imgPath, year, webLink } = Astro.props

const fullImgPath = `/src/images/projects/${imgPath}`
const images = import.meta.glob('/src/images/projects/**/*.{png,jpg,jpeg}')
const image = images[fullImgPath]

if (!image) {
  throw new Error(
    `"${fullImgPath}" does not exist in glob "/src/images/projects/**/*.{png,jpg,jpeg}"`
  )
}
---

<BaseLayout title={`Proyectos Solidarios | ${title}`}>
  <div class="content">
    <header>
      <h2>{year}</h2>
      {/* @ts-ignore */}
      <Image src={image()} alt={`Foto del proyecto ${title}`} />
      <div class="header-title">
        <h1>{title}</h1>
        <a href={webLink} target="_blank">
          <Link />
        </a>
      </div>
    </header>
    <slot />
  </div>
</BaseLayout>

<style is:global>
  .content header h2 {
    text-align: center;
  }

  .content header {
    display: flex;
    flex-direction: column;
    gap: 50px;
    justify-content: center;
    align-items: center;
  }

  .content header h2 {
    margin: 0;
    font-weight: 400;
    font-size: 8rem;
  }

  .content header img {
    box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
    width: 100%;
    object-fit: cover;
    border-radius: 15px;
    height: 375px;
  }

  .header-title {
    position: relative;
    display: flex;
    align-items: center;
  }

  .header-title h1 {
    margin: 0;
    font-weight: 400;
    text-align: center;
    font-size: 8rem;
  }

  .header-title a {
    position: absolute;
    right: -80px;
  }

  .header-title svg {
    height: 48px;
    width: 48px;
  }

  h2 {
    font-size: 10rem;
  }

  ul,
  ol,
  p {
    text-wrap: pretty;
    font-size: 3rem;
  }
</style>
